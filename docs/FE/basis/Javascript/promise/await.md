## promise

- promise 的作用
  - 判断异步操作的状态
  - 期约封装的异步操作会实际生成某个值，而程序期待期约状态改变时可以访问这个值。相应地，如果期约被拒绝，程序就会期待期约状态改变时可以拿到拒绝的理由。

### promise 的状态：padding、resolve、reject

- padding：通过 new 关键字创建一个 promise 实例时， promise 内的异步会处于 padding 状态
- resolve 和 reject 作为 promise 实例的回调函数的参数传入 promise 实例中，这两个状态仅代表 promis 状态，同时可以通过这两个状态来对异步的状态进行分类，以及对异步返回值进行分类；

### 期约实例

- 方法：
  1. Promise.prototype.then()：是为期约实例添加处理程序的主要方法。这个 then()方法接收最多两个参数： onResolved 处理程序和 onRejected 处理程序。这两个参数都是可选的，如果提供的话，则会在期约分别进入“兑现”和“拒绝”状态时执行。
  2. Promise.prototype.catch()：用于给期约添加拒绝处理程序
  3. Promise.prototype.finally()：用于给期约添加 onFinally 处理程序，这个处理程序在期约转换为解决或拒绝状态时都会执行，即这是一个与状态无关的方法，所以这个方法主要用于添加清理代码。
- 作用：
  1. 连接外部同步代码与内部异步代码之间的桥梁。
  2. 这些方法可以访问异步操作返回的数据，
  3. 处理期约成功和失败的结果，连续对期约求值，
  4. 或者添加只有期约进入终止状态时才会执行的代码

## async/await

- async 关键字：
  - 可以用在函数声明、函数表达式、箭头函数和方法上
  - 可以让函数具有异步特征，但总体上其代码仍然是同步求值的，如果使用 return 关键字返回了值（如果没有 return 则会返回 undefined），这个值会被 Promise.resolve()包装成一个期约对象。异步函数始终返回期约对象。在函数外部调用这个函数可以得到它返回的期约，直接返回一个期约对象也是一样的
- await 关键字：
  - 可以暂停异步函数代码的执行，等待 promise 解决
  - JavaScript 运行时在碰到 await 关键字时，会记录在哪里暂停执行。等到 await 右边的值可用了， JavaScript 运行时会向消息队列中推送一个任务，这个任务会恢复异步函数的执行。
